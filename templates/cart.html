{% extends "layout.html" %}

{% block title %}
    My Cart
{% endblock %}

{% block main %}

<h2>My Cart</h2>
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Restaurant</th>
      <th scope="col">Product</th>
      <th scope="col">Quantity</th>
      <th scope="col">Price</th>
      <th scope="col">Remove Item</th>
    </tr>
  </thead>
  <tbody>
  {% for cart in carts %}
    <tr>
      <td>{{ cart["cartres"] }}</td>
      <td>{{ cart["cartprod"] }}</td>
      <td>{{ cart["quantity"] }}</td>
      <td>${{ cart["price"] }}</th>
      <form method="POST" action="/cart" name="remove">
        <input type = "hidden" name = "productname" value = "{{ cart["cartprod"] }}"/>
        <td><button type="submit" name="removebutton" value="Remove" class="material-icons">remove_shopping_cart</button></td>
      </form>
    </tr>
  {% endfor %}
    <tr>
      <th>Total Price</th>
      <td colspan="4">$ {{ total }}</td>
    </tr>
  </tbody>
</table>

<form method="POST" action="/cart" name="purchase">
  <td><button class="btn btn-primary btn-lg" type="submit" name="purchasebutton" value="Purchase">Purchase!</button></td>
</form>

{% endblock %}
